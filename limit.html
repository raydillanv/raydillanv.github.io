<!DOCTYPE html>
<html>
<head>
  <title>Limit Page</title>
</head>
<body>
  <h1>Limit Page</h1>
  <p>This page requires a valid cookie to be accessed.</p>

  <script>
    const accessCookie = document.cookie
      .split('; ')
      .find(row => row.startsWith('access='));
    
    if (!accessCookie) {
      // If the access cookie is not present, send user back to index.html
      window.location.href = 'index.html';
    }

    // Define the passwords as an array of objects
    const passwords = [
      { password: 'enter', file: 'webpage.html' },
      { password: 'password123', file: 'password123.html' },
      // Add more passwords and corresponding files here as needed
    ];

    // Find the password in the array that matches the value entered in the form
    const form = document.querySelector('form');
    const passwordInput = document.querySelector('input[name="password"]');
    form.addEventListener('submit', (event) => {
      event.preventDefault();
      const password = passwordInput.value;
      const matchedPassword = passwords.find(p => p.password === password);
      if (matchedPassword) {
        document.cookie = `access=granted;path=/${matchedPassword.file}`;
        window.location.href = matchedPassword.file;
      } else {
        alert("Incorrect password. Please try again.");
      }
    });
  </script>
</body>
</html>
